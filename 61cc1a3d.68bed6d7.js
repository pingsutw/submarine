(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{129:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=a.a.createContext({}),s=function(e){var t=a.a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},b=function(e){var t=s(e.components);return a.a.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},h=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),b=s(n),h=r,m=b["".concat(o,".").concat(h)]||b[h]||p[h]||i;return n?a.a.createElement(m,c(c({ref:t},u),{},{components:n})):a.a.createElement(m,c({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=h;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var u=2;u<i;u++)o[u]=n[u];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},84:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return s}));var r=n(3),a=n(7),i=(n(0),n(129)),o={title:"Guide for Apache Submarine Contributor"},c={unversionedId:"community/contributing",id:"community/contributing",isDocsHomePage:!1,title:"Guide for Apache Submarine Contributor",description:"\x3c!--",source:"@site/docs/community/contributing.md",slug:"/community/contributing",permalink:"/docs/community/contributing",editUrl:"https://github.com/apache/submarine/edit/master/docs/docs/community/contributing.md",version:"current",sidebar:"docs",previous:{title:"Guide for Apache Submarine Committers",permalink:"/docs/community/HowToCommit"},next:{title:"Architecture and Requirment",permalink:"/docs/designDocs/architecture-and-requirements"}},l=[{value:"Creating a Pull Request",id:"creating-a-pull-request",children:[]},{value:"Source Control Workflow",id:"source-control-workflow",children:[]},{value:"The Review Process",id:"the-review-process",children:[]},{value:"Setting up",id:"setting-up",children:[{value:"Software Configuration Management (SCM)",id:"software-configuration-management-scm",children:[]},{value:"Integrated Development Environment (IDE)",id:"integrated-development-environment-ide",children:[]},{value:"Code convention",id:"code-convention",children:[]}]},{value:"Getting the source code",id:"getting-the-source-code",children:[{value:"Step 1: Fork in the cloud",id:"step-1-fork-in-the-cloud",children:[]},{value:"Step 2: Clone fork to local storage",id:"step-2-clone-fork-to-local-storage",children:[]},{value:"Step 3: Branch",id:"step-3-branch",children:[]},{value:"Step 4: Develop",id:"step-4-develop",children:[]},{value:"Step 5: Keep your branch in sync",id:"step-5-keep-your-branch-in-sync",children:[]},{value:"Step 6: Commit",id:"step-6-commit",children:[]},{value:"Step 7: Push",id:"step-7-push",children:[]},{value:"Step 8: Create a pull request",id:"step-8-create-a-pull-request",children:[]}]},{value:"Build",id:"build",children:[]},{value:"Continuous Integration",id:"continuous-integration",children:[]}],u={toc:l};function s(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Apache Hadoop Submarine")," is an ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/apache/submarine/blob/master/LICENSE"}),"Apache 2.0 License")," Software."),Object(i.b)("p",null,"Contributing to Hadoop Submarine (Source code, Documents, Image, Website) means you agree to the Apache 2.0 License."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Make sure your issue is not already in the ",Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"https://issues.apache.org/jira/browse/SUBMARINE"}),"Jira issue tracker")),Object(i.b)("li",{parentName:"ol"},"If not, create a ticket describing the change you're proposing in the ",Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"https://issues.apache.org/jira/browse/SUBMARINE"}),"Jira issue tracker")),Object(i.b)("li",{parentName:"ol"},"Setup Travis ",Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"#continuous-integration"}),"Continuous Integration")),Object(i.b)("li",{parentName:"ol"},"Contribute your patch via Pull Request on our ",Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/apache/submarine"}),"Github Mirror"),".")),Object(i.b)("p",null,"Before you start, please read the ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"http://www.apache.org/foundation/policies/conduct.html"}),"Code of Conduct")," carefully, familiarize yourself with it and refer to it whenever you need it."),Object(i.b)("p",null,"For those of you who are not familiar with the Apache project, understanding ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"http://www.apache.org/foundation/how-it-works.html"}),"How it works")," would be quite helpful."),Object(i.b)("h2",{id:"creating-a-pull-request"},"Creating a Pull Request"),Object(i.b)("p",null,"When creating a Pull Request, you will automatically get the template below."),Object(i.b)("p",null,"Filling it thoroughly can improve the speed of the review process."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{}),"### What is this PR for?\nA few sentences describing the overall goals of the pull request's commits.\nFirst time? Check out the contribution guidelines - \nhttps://github.com/apache/submarine/tree/master/docs/community/contributing.md\n\n### What type of PR is it?\n[Bug Fix | Improvement | Feature | Documentation | Hot Fix | Refactoring]\n\n### Todos\n* [ ] - Task\n\n### What is the Jira issue?\n* Open an issue on Jira https://issues.apache.org/jira/browse/SUBMARINE/\n* Put link here, and add [SUBMARINE-${jira_number}] in PR title, e.g. [SUBMARINE-323]\n\n### How should this be tested?\nOutline the steps to test the PR here.\n\n### Screenshots (if appropriate)\n\n### Questions:\n* Do the licenses files require updates?\n* Are there breaking changes for older versions?\n* Does this need documentation?\n")),Object(i.b)("h2",{id:"source-control-workflow"},"Source Control Workflow"),Object(i.b)("p",null,"Hadoop Submarine follows ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/sevntu-checkstyle/sevntu.checkstyle/wiki/Development-workflow-with-Git:-Fork,-Branching,-Commits,-and-Pull-Request"}),"Fork & Pull")," model."),Object(i.b)("h2",{id:"the-review-process"},"The Review Process"),Object(i.b)("p",null,"When a Pull Request is submitted, it is being merged or rejected by the following review process."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Anybody can be a reviewer and may comment on the change or suggest modifications."),Object(i.b)("li",{parentName:"ul"},'Reviewer can indicate that a patch looks suitable for merging with a comment such as: "Looks good", "LGTM", "+1".'),Object(i.b)("li",{parentName:"ul"},'At least one indication of suitability (e.g. "LGTM") from a committer is required to be merged.'),Object(i.b)("li",{parentName:"ul"},"Pull request is open for 1 or 2 days for potential additional review unless it's got enough indication of suitability."),Object(i.b)("li",{parentName:"ul"},'A committer can then initiate lazy consensus ("Merge if there is no more discussion") after which the code can be merged after a particular time (usually 24 hours) if there are no more reviews.'),Object(i.b)("li",{parentName:"ul"},"Contributors can ping reviewers (including committers) by commenting 'Ready to review' or suitable indication.")),Object(i.b)("h2",{id:"setting-up"},"Setting up"),Object(i.b)("p",null,"Here are some things you will need to build and test the Hadoop Submarine."),Object(i.b)("h3",{id:"software-configuration-management-scm"},"Software Configuration Management (SCM)"),Object(i.b)("p",null,"Hadoop Submarine uses Git for its SCM system. So you'll need a git client installed on your development machine."),Object(i.b)("h3",{id:"integrated-development-environment-ide"},"Integrated Development Environment (IDE)"),Object(i.b)("p",null,"You are free to use whatever IDE you prefer, or your favorite command-line editor."),Object(i.b)("h3",{id:"code-convention"},"Code convention"),Object(i.b)("p",null,"We are following Google Code style:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"https://google.github.io/styleguide/javaguide.html"}),"Java style")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"https://google.github.io/styleguide/shell.xml"}),"Shell style"))),Object(i.b)("p",null,"There are some plugins to format, lint your code in IDE (use ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"hhttps://github.com/apache/submarine/blob/master/dev-support/maven-config/checkstyle.xml"}),"dev-support/maven-config/checkstyle.xml")," as rules)"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"https://plugins.jetbrains.com/plugin/1065"}),"Checkstyle plugin for Intellij")," (",Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"http://stackoverflow.com/questions/26955766/intellij-idea-checkstyle"}),"Setting Guide"),")"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"http://eclipse-cs.sourceforge.net/#!/"}),"Checkstyle plugin for Eclipse")," (",Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"http://eclipse-cs.sourceforge.net/#!/project-setup"}),"Setting Guide"),")")),Object(i.b)("h2",{id:"getting-the-source-code"},"Getting the source code"),Object(i.b)("h3",{id:"step-1-fork-in-the-cloud"},"Step 1: Fork in the cloud"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Visit ",Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/apache/submarine"}),"https://github.com/apache/submarine")),Object(i.b)("li",{parentName:"ol"},"On the top right of the page, click the ",Object(i.b)("inlineCode",{parentName:"li"},"Fork")," button (top right) to create a cloud-based fork of the repository.")),Object(i.b)("h3",{id:"step-2-clone-fork-to-local-storage"},"Step 2: Clone fork to local storage"),Object(i.b)("p",null,"Create your clone:"),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"${user} is your github user name")),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-sh"}),"mkdir -p ${working_dir}\ncd ${working_dir}\n\ngit clone https://github.com/${user}/submarine.git\n# or: git clone git@github.com:${user}/submarine.git\n\ncd ${working_dir}/submarine\ngit remote add upstream https://github.com/apache/submarine.git\n# or: git remote add upstream git@github.com:apache/submarine.git\n\n# Never push to the upstream master.\ngit remote set-url --push upstream no_push\n\n# Confirm that your remotes make sense:\n# It should look like:\n# origin    git@github.com:${user}/submarine.git (fetch)\n# origin    git@github.com:${user}/submarine.git (push)\n# upstream  https://github.com/apache/submarine (fetch)\n# upstream  no_push (push)\ngit remote -v\n")),Object(i.b)("h3",{id:"step-3-branch"},"Step 3: Branch"),Object(i.b)("p",null,"Get your local master up to date:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-sh"}),"cd ${working_dir}/submarine\ngit fetch upstream\ngit checkout master\ngit rebase upstream/master\n")),Object(i.b)("p",null,"Branch from master:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-sh"}),"git checkout -b SUBMARINE-${jira_number}\n")),Object(i.b)("h3",{id:"step-4-develop"},"Step 4: Develop"),Object(i.b)("h4",{id:"edit-the-code"},"Edit the code"),Object(i.b)("p",null,"You can now edit the code on the ",Object(i.b)("inlineCode",{parentName:"p"},"SUBMARINE-${jira_number}")," branch."),Object(i.b)("h4",{id:"test"},"Test"),Object(i.b)("p",null,"Build and run all tests:"),Object(i.b)("h3",{id:"step-5-keep-your-branch-in-sync"},"Step 5: Keep your branch in sync"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-sh"}),"# While on your SUBMARINE-${jira_number} branch.\ngit fetch upstream\ngit rebase upstream/master\n")),Object(i.b)("p",null,"Please don't use ",Object(i.b)("inlineCode",{parentName:"p"},"git pull")," instead of the above ",Object(i.b)("inlineCode",{parentName:"p"},"fetch"),"/",Object(i.b)("inlineCode",{parentName:"p"},"rebase"),". ",Object(i.b)("inlineCode",{parentName:"p"},"git pull")," does a merge, which leaves merge commits. These make the commit history messy and violate the principle that commits ought to be individually understandable and useful (see below). You can also consider changing your ",Object(i.b)("inlineCode",{parentName:"p"},".git/config")," file via ",Object(i.b)("inlineCode",{parentName:"p"},"git config branch.autoSetupRebase")," always to change the behavior of ",Object(i.b)("inlineCode",{parentName:"p"},"git pull"),"."),Object(i.b)("h3",{id:"step-6-commit"},"Step 6: Commit"),Object(i.b)("p",null,"Commit your changes."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-sh"}),"git commit\n")),Object(i.b)("p",null,"Likely you'll go back and edit/build/test further and then ",Object(i.b)("inlineCode",{parentName:"p"},"commit --amend")," in a few cycles."),Object(i.b)("h3",{id:"step-7-push"},"Step 7: Push"),Object(i.b)("p",null,"When the changes are ready to review (or you just want to create an offsite backup of your work), push your branch to your fork on ",Object(i.b)("inlineCode",{parentName:"p"},"github.com"),":"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-sh"}),"git push --set-upstream ${your_remote_name} SUBMARINE-${jira_number}\n")),Object(i.b)("h3",{id:"step-8-create-a-pull-request"},"Step 8: Create a pull request"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Visit your fork at ",Object(i.b)("inlineCode",{parentName:"li"},"https://github.com/${user}/submarine"),"."),Object(i.b)("li",{parentName:"ol"},"Click the ",Object(i.b)("inlineCode",{parentName:"li"},"Compare & Pull Request")," button next to your ",Object(i.b)("inlineCode",{parentName:"li"},"SUBMARINE-${jira_number}")," branch."),Object(i.b)("li",{parentName:"ol"},"Fill in the required information in the PR template.")),Object(i.b)("h4",{id:"get-a-code-review"},"Get a code review"),Object(i.b)("p",null,"If your pull request (PR) is opened, it will be assigned to one or more reviewers. Those reviewers will do a thorough code review, looking at correctness, bugs, opportunities for improvement, documentation comments, and style."),Object(i.b)("p",null,"To address review comments, you should commit the changes to the same branch of the PR on your fork."),Object(i.b)("h4",{id:"revert-a-commit"},"Revert a commit"),Object(i.b)("p",null,"In case you wish to revert a commit, follow the instructions below:"),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"NOTE: If you have upstream write access, please refrain from using the Revert\nbutton in the GitHub UI for creating the PR, because GitHub will create the\nPR branch inside the main repository rather than inside your fork.")),Object(i.b)("p",null,"Create a branch and synchronize it with the upstream:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-sh"}),"# create a branch\ngit checkout -b myrevert\n\n# sync the branch with upstream\ngit fetch upstream\ngit rebase upstream/master\n\n# SHA is the hash of the commit you wish to revert\ngit revert SHA\n")),Object(i.b)("p",null,"This creates a new commit reverting the change. Push this new commit to your remote:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-sh"}),"git push ${your_remote_name} myrevert\n")),Object(i.b)("p",null,"Create a PR based on this branch."),Object(i.b)("h4",{id:"cherry-pick-a-commit-to-a-release-branch"},"Cherry pick a commit to a release branch"),Object(i.b)("p",null,"In case you wish to cherry pick a commit to a release branch, follow the instructions below:"),Object(i.b)("p",null,"Create a branch and synchronize it with the upstream:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-sh"}),"# sync the branch with upstream.\ngit fetch upstream\n\n# checkout the release branch.\n# ${release_branch_name} is the release branch you wish to cherry pick to.\ngit checkout upstream/${release_branch_name}\ngit checkout -b my-cherry-pick\n\n# cherry pick the commit to my-cherry-pick branch.\n# ${SHA} is the hash of the commit you wish to revert.\ngit cherry-pick ${SHA}\n\n# push this branch to your repo, file an PR based on this branch.\ngit push --set-upstream ${your_remote_name} my-cherry-pick\n")),Object(i.b)("h2",{id:"build"},"Build"),Object(i.b)("p",null,Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"../devDocs/BuildFromCode"}),"Build From Code")),Object(i.b)("h2",{id:"continuous-integration"},"Continuous Integration"),Object(i.b)("p",null,"Hadoop Submarine project's CI system will collect information from pull request author's Travis-ci and display status in the pull request."),Object(i.b)("p",null,"Each individual contributor should setup Travis-ci for the fork before making a pull-request. Go to ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://travis-ci.org/profile"}),"https://travis-ci.org/profile")," and switch on 'submarine' repository."))}s.isMDXComponent=!0}}]);